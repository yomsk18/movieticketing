<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>U-Watch - Ticket Booking</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: Arial, sans-serif; background: #f5f5f5; color: #333; }

    .topbar {
      display: flex; justify-content: space-between; align-items: center;
      background: #2d2d2d; padding: 12px 20px; border-bottom: 1px solid #1a1a1a;
    }
    .logo-section { display: flex; align-items: center; gap: 10px; }
    .logo-img { 
      width: 40px; height: 40px; 
      background: radial-gradient(circle, #4a4a4a, #2a2a2a);
      border-radius: 50%; 
      border: 2px solid #555;
    }
    .logo { font-size: 22px; font-weight: bold; color: #fff; letter-spacing: 2px; }
    .user-info { display: flex; align-items: center; gap: 15px; font-size: 12px; color: #ccc; }
    .logout { 
      background: #555; border: none; padding: 8px 18px; 
      border-radius: 4px; color: #fff; cursor: pointer; 
      font-size: 12px; transition: background 0.2s; 
      margin-left: 10px;
    }
    .logout:hover { background: #666; }

    .container { display: grid; grid-template-columns: 260px 1fr 320px; min-height: calc(100vh - 65px); }

    /* Left Panel */
    .movies { background: #e8e8e8; padding: 20px; overflow-y: auto; border-right: 1px solid #d0d0d0; }
    .movies h2 { margin-bottom: 8px; font-size: 15px; color: #333; font-weight: bold; }
    .movies-subtitle { font-size: 11px; color: #666; margin-bottom: 15px; }
    .movie { 
      margin-bottom: 12px; padding: 12px; border-radius: 6px; 
      background: #fff; cursor: pointer; transition: all 0.2s; 
      border: 2px solid transparent;
    }
    .movie:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .movie.active { background: #d32f2f; color: #fff; border-color: #b71c1c; }
    .movie-header { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; }
    .movie-tag { background: #f44336; padding: 2px 8px; border-radius: 3px; font-size: 10px; color: #fff; font-weight: bold; }
    .movie.active .movie-tag { background: #8b0000; }
    .movie-duration { font-size: 11px; color: #888; }
    .movie.active .movie-duration { color: #ffcdd2; }
    .movie-title { font-weight: bold; font-size: 13px; margin-bottom: 4px; color: #333; }
    .movie.active .movie-title { color: #fff; }
    .movie-info { font-size: 11px; color: #666; margin-bottom: 8px; }
    .movie.active .movie-info { color: #ffcdd2; }
    .showtimes { display: flex; flex-wrap: wrap; gap: 6px; }
    .showtime { 
      background: #f5f5f5; padding: 5px 12px; border-radius: 4px; 
      font-size: 11px; cursor: pointer; transition: all 0.2s; 
      border: 1px solid #ddd; color: #333; font-weight: 500;
    }
    .showtime:hover { background: #e0e0e0; }
    .showtime.active { background: #2196F3; border-color: #1976D2; color: #fff; }
    .movie.active .showtime { background: #8b0000; color: #fff; border-color: #5d0000; }
    .movie.active .showtime:hover { background: #a00; }
    .movie.active .showtime.active { background: #2196F3; border-color: #1976D2; }

    /* Center Panel */
    .seats { background: #3a3a3a; padding: 20px; text-align: center; overflow-y: auto; }
    .cinema-header { margin-bottom: 20px; }
    .cinema-logo { 
      width: 60px; height: 60px; 
      background: radial-gradient(circle, #555, #2a2a2a);
      border-radius: 50%; margin: 0 auto 10px; 
      border: 3px solid #4a4a4a;
    }
    .cinema-name { font-size: 24px; font-weight: bold; color: #fff; letter-spacing: 2px; }
    .cinema-subtitle { font-size: 13px; color: #aaa; margin-bottom: 15px; }
    .seats h2 { margin-bottom: 10px; font-size: 15px; color: #fff; font-weight: bold; }
    .instruction { font-size: 12px; color: #aaa; margin-bottom: 15px; font-style: italic; }
    .legend { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; font-size: 12px; color: #fff; }
    .legend span { display: flex; align-items: center; gap: 6px; }
    .legend-box { width: 16px; height: 16px; border-radius: 3px; }
    .available { background: #4caf50; }
    .selected-legend { background: #f44336; }
    .occupied { background: #757575; }

    .screen { 
      background: linear-gradient(to bottom, #555, #333); 
      padding: 10px; margin: 0 auto 25px; width: 70%; 
      border-radius: 50% 50% 0 0; font-size: 11px; 
      color: #aaa; border: 2px solid #555; font-weight: bold;
    }
    
    .seat-map { display: inline-block; }
    .row { display: flex; align-items: center; gap: 6px; margin-bottom: 8px; }
    .row-label { width: 60px; text-align: right; margin-right: 12px; font-weight: bold; color: #aaa; font-size: 12px; }
    .seat {
      width: 34px; height: 34px; display: flex; align-items: center; justify-content: center;
      font-size: 9px; font-weight: bold; border-radius: 6px; cursor: pointer; 
      user-select: none; transition: all 0.2s; border: 2px solid transparent;
    }
    .seat.available { background: #4caf50; color: #fff; }
    .seat.selected { background: #f44336; color: #fff; border-color: #d32f2f; }
    .seat.occupied { background: #757575; color: #424242; cursor: not-allowed; }
    .seat.available:hover { background: #2196F3; transform: scale(1.15); box-shadow: 0 0 10px rgba(33, 150, 243, 0.5); }

    /* Right Panel */
    .summary { background: #e8e8e8; padding: 20px; overflow-y: auto; border-left: 1px solid #d0d0d0; }
    .summary h2 { margin-bottom: 15px; font-size: 15px; color: #333; font-weight: bold; }
    .no-seats { color: #999; font-size: 12px; margin-bottom: 20px; font-style: italic; }
    .form-group { margin-bottom: 15px; }
    .form-group label { display: block; font-size: 12px; margin-bottom: 5px; font-weight: bold; color: #333; }
    .form-group input {
      width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc; 
      background: #fff; color: #333; font-size: 13px;
    }
    .form-group input::placeholder { color: #999; }
    .form-group input:focus { outline: none; border-color: #2196F3; }
    .ticket-details { margin: 20px 0; font-size: 13px; background: #fff; padding: 15px; border-radius: 5px; border: 1px solid #ddd; }
    .ticket-details div { display: flex; justify-content: space-between; margin-bottom: 8px; color: #333; }
    .ticket-details .total { 
      border-top: 2px solid #333; padding-top: 10px; 
      margin-top: 10px; font-weight: bold; font-size: 14px; 
    }
    .payment { margin: 20px 0; }
    .payment-title { font-size: 12px; font-weight: bold; margin-bottom: 10px; color: #333; }
    .payment-options { display: flex; gap: 10px; }
    .payment-option { 
      flex: 1; padding: 10px; background: #fff; border-radius: 5px; 
      cursor: pointer; text-align: center; font-size: 12px; 
      transition: all 0.2s; border: 2px solid #ddd; color: #333;
    }
    .payment-option:hover { border-color: #999; }
    .payment-option.active { background: #fff; border-color: #2196F3; color: #2196F3; font-weight: bold; }
    .buttons { display: flex; gap: 10px; margin-top: 20px; }
    .btn { 
      flex: 1; padding: 12px; border: none; border-radius: 5px; 
      font-weight: bold; cursor: pointer; font-size: 13px; 
      transition: all 0.2s; 
    }
    .btn-clear { background: #757575; color: #fff; }
    .btn-clear:hover { background: #616161; }
    .btn-confirm { background: #2196F3; color: #fff; }
    .btn-confirm:hover { background: #1976D2; transform: translateY(-1px); box-shadow: 0 2px 8px rgba(33, 150, 243, 0.3); }
  </style>
</head>
<body>
  <div class="topbar">
    <div class="logo-section">
      <div class="logo-img"></div>
      <div class="logo">U-WATCH</div>
    </div>
    <div class="user-info">
      <div style="text-align: right;">
        <div style="font-weight: bold; color: #fff;">Marla Santos</div>
        <div>Teller â€¢ Counter #1</div>
      </div>
      <button class="logout" onclick="logout()">Logout</button>
    </div>
  </div>

  <div class="container">
    <!-- Left Panel -->
    <div class="movies">
      <h2>Select Movie & Showtime</h2>
      <div class="movies-subtitle">Choose from available shows</div>
      
      <div class="movie" data-movie="avengers">
        <div class="movie-header">
          <span class="movie-tag">Action</span>
          <span class="movie-duration">181 min</span>
        </div>
        <div class="movie-title">Avengers: Endgame</div>
        <div class="movie-info">Action â€¢ 181 min</div>
        <div class="showtimes">
          <div class="showtime" data-time="10:00 AM">10:00 AM</div>
          <div class="showtime" data-time="1:30 PM">1:30 PM</div>
          <div class="showtime" data-time="5:00 PM">5:00 PM</div>
          <div class="showtime" data-time="8:30 PM">8:30 PM</div>
        </div>
      </div>

      <div class="movie" data-movie="spiderman">
        <div class="movie-header">
          <span class="movie-tag">Action</span>
          <span class="movie-duration">148 min</span>
        </div>
        <div class="movie-title">Spider-Man: No Way Home</div>
        <div class="movie-info">Action â€¢ 148 min</div>
        <div class="showtimes">
          <div class="showtime" data-time="11:00 AM">11:00 AM</div>
          <div class="showtime" data-time="2:30 PM">2:30 PM</div>
          <div class="showtime" data-time="6:00 PM">6:00 PM</div>
          <div class="showtime" data-time="9:30 PM">9:30 PM</div>
        </div>
      </div>

      <div class="movie" data-movie="topgun">
        <div class="movie-header">
          <span class="movie-tag">Action</span>
          <span class="movie-duration">130 min</span>
        </div>
        <div class="movie-title">Top Gun: Maverick</div>
        <div class="movie-info">Action â€¢ 130 min</div>
        <div class="showtimes">
          <div class="showtime" data-time="12:00 PM">12:00 PM</div>
          <div class="showtime" data-time="3:30 PM">3:30 PM</div>
          <div class="showtime" data-time="7:00 PM">7:00 PM</div>
          <div class="showtime" data-time="10:00 PM">10:00 PM</div>
        </div>
      </div>

      <div class="movie" data-movie="batman">
        <div class="movie-header">
          <span class="movie-tag">Action</span>
          <span class="movie-duration">176 min</span>
        </div>
        <div class="movie-title">The Batman</div>
        <div class="movie-info">Action â€¢ 176 min</div>
        <div class="showtimes">
          <div class="showtime" data-time="1:00 PM">1:00 PM</div>
          <div class="showtime" data-time="4:30 PM">4:30 PM</div>
          <div class="showtime" data-time="8:00 PM">8:00 PM</div>
          <div class="showtime" data-time="11:00 PM">11:00 PM</div>
        </div>
      </div>
    </div>

    <!-- Center Panel -->
    <div class="seats">
      <div class="cinema-header">
        <div class="cinema-logo"></div>
        <div class="cinema-name">U-WATCH</div>
        <div class="cinema-subtitle">Cinema 1</div>
      </div>
      
      <h2>Seat Selection</h2>
      <div class="instruction">Select a movie first</div>
      
      <div class="legend">
        <span><div class="legend-box available"></div> Available</span>
        <span><div class="legend-box selected-legend"></div> Selected</span>
        <span><div class="legend-box occupied"></div> Occupied</span>
      </div>

      <div class="screen">SCREEN</div>
      
      <div class="seat-map" id="seatMap"></div>
    </div>

    <!-- Right Panel -->
    <div class="summary">
      <h2>Booking Summary</h2>
      <div class="no-seats" id="noSeats">No seats selected</div>

      <div class="form-group">
        <label>Customer Name</label>
        <input type="text" id="customerName" placeholder="Enter customer name">
      </div>

      <div class="form-group">
        <label>Phone Number</label>
        <input type="text" id="phoneNumber" placeholder="09XX XXX XXXX">
      </div>

      <div class="form-group">
        <label>Email (Optional)</label>
        <input type="email" id="email" placeholder="customer@email.com">
      </div>

      <div class="ticket-details">
        <div><span>Tickets (0):</span><span id="ticketPrice">â‚±0.00</span></div>
        <div><span>Service Fee:</span><span id="serviceFee">â‚±25.00</span></div>
        <div class="total"><span>Total:</span><span id="totalPrice">â‚±25.00</span></div>
      </div>

      <div class="payment">
        <div class="payment-title">Payment Method</div>
        <div class="payment-options">
          <div class="payment-option active" data-payment="cash">ðŸ’µ Cash</div>
          <div class="payment-option" data-payment="card">ðŸ’³ Card</div>
        </div>
      </div>

      <div class="buttons">
        <button class="btn btn-clear" onclick="clearBooking()">Clear</button>
        <button class="btn btn-confirm" onclick="bookTickets()">Book Tickets</button>
      </div>
    </div>
  </div>

  <script>
    const state = {
      selectedMovie: null,
      selectedTime: null,
      selectedSeats: [],
      paymentMethod: 'cash'
    };

    const seatPrice = 200;
    const serviceFee = 25;

    // Generate seat map
    function generateSeats() {
      const rows = ['A', 'B', 'C', 'D', 'E', 'F', 'G'];
      const seatsPerRow = 12;
      const occupiedSeats = ['B4', 'B5', 'C8', 'D1', 'D2', 'D8', 'D9', 'D10', 'D11', 'E1', 'F1', 'F2', 'G5'];
      
      const seatMap = document.getElementById('seatMap');
      seatMap.innerHTML = '';
      
      rows.forEach(row => {
        const rowDiv = document.createElement('div');
        rowDiv.className = 'row';
        
        const label = document.createElement('div');
        label.className = 'row-label';
        label.textContent = `Row ${row}`;
        rowDiv.appendChild(label);
        
        for (let i = 1; i <= seatsPerRow; i++) {
          const seatId = `${row}${i}`;
          const seat = document.createElement('div');
          seat.className = 'seat';
          seat.textContent = seatId;
          seat.dataset.seatId = seatId;
          
          if (occupiedSeats.includes(seatId)) {
            seat.classList.add('occupied');
          } else {
            seat.classList.add('available');
            seat.addEventListener('click', () => toggleSeat(seatId));
          }
          
          rowDiv.appendChild(seat);
        }
        
        seatMap.appendChild(rowDiv);
      });
    }

    function toggleSeat(seatId) {
      if (!state.selectedMovie || !state.selectedTime) {
        alert('Please select a movie and showtime first');
        return;
      }

      const seat = document.querySelector(`[data-seat-id="${seatId}"]`);
      if (seat.classList.contains('occupied')) return;
      
      if (state.selectedSeats.includes(seatId)) {
        state.selectedSeats = state.selectedSeats.filter(s => s !== seatId);
        seat.classList.remove('selected');
        seat.classList.add('available');
      } else {
        state.selectedSeats.push(seatId);
        seat.classList.remove('available');
        seat.classList.add('selected');
      }
      
      updateSummary();
    }

    function updateSummary() {
      const count = state.selectedSeats.length;
      const ticketTotal = count * seatPrice;
      const total = ticketTotal + serviceFee;
      
      document.getElementById('ticketPrice').textContent = `â‚±${ticketTotal.toFixed(2)}`;
      document.getElementById('totalPrice').textContent = `â‚±${total.toFixed(2)}`;
      
      const ticketText = document.querySelector('.ticket-details div:first-child span:first-child');
      ticketText.textContent = `Tickets (${count}):`;
      
      const noSeats = document.getElementById('noSeats');
      if (count > 0) {
        noSeats.style.display = 'none';
      } else {
        noSeats.style.display = 'block';
      }
    }

    // Movie selection
    document.querySelectorAll('.movie').forEach(movie => {
      movie.addEventListener('click', function(e) {
        if (e.target.classList.contains('showtime')) return;
        
        document.querySelectorAll('.movie').forEach(m => m.classList.remove('active'));
        this.classList.add('active');
        state.selectedMovie = this.dataset.movie;
        
        // Clear showtime selection
        document.querySelectorAll('.showtime').forEach(s => s.classList.remove('active'));
        state.selectedTime = null;
        
        document.querySelector('.instruction').textContent = 'Select a showtime';
      });
    });

    // Showtime selection
    document.querySelectorAll('.showtime').forEach(showtime => {
      showtime.addEventListener('click', function(e) {
        e.stopPropagation();
        
        if (!state.selectedMovie) {
          alert('Please select a movie first');
          return;
        }
        
        document.querySelectorAll('.showtime').forEach(s => s.classList.remove('active'));
        this.classList.add('active');
        state.selectedTime = this.dataset.time;
        
        document.querySelector('.instruction').textContent = 'Click on available seats to select';
      });
    });

    // Payment method
    document.querySelectorAll('.payment-option').forEach(option => {
      option.addEventListener('click', function() {
        document.querySelectorAll('.payment-option').forEach(o => o.classList.remove('active'));
        this.classList.add('active');
        state.paymentMethod = this.dataset.payment;
      });
    });

    function clearBooking() {
      state.selectedSeats.forEach(seatId => {
        const seat = document.querySelector(`[data-seat-id="${seatId}"]`);
        if (seat) {
          seat.classList.remove('selected');
          seat.classList.add('available');
        }
      });
      
      state.selectedSeats = [];
      document.getElementById('customerName').value = '';
      document.getElementById('phoneNumber').value = '';
      document.getElementById('email').value = '';
      
      updateSummary();
    }

    function bookTickets() {
      if (!state.selectedMovie || !state.selectedTime) {
        alert('Please select a movie and showtime');
        return;
      }
      
      if (state.selectedSeats.length === 0) {
        alert('Please select at least one seat');
        return;
      }
      
      const name = document.getElementById('customerName').value;
      if (!name) {
        alert('Please enter customer name');
        return;
      }
      
      const movieTitle = document.querySelector('.movie.active .movie-title').textContent;
      alert(`Booking confirmed!\n\nMovie: ${movieTitle}\nTime: ${state.selectedTime}\nSeats: ${state.selectedSeats.join(', ')}\nTotal: â‚±${(state.selectedSeats.length * seatPrice + serviceFee).toFixed(2)}`);
      
      clearBooking();
    }

    function logout() {
      if (confirm('Are you sure you want to logout?')) {
        window.location.href = 'login.html';
      }
    }

    // Initialize
    generateSeats();
    updateSummary();
  </script>
</body>
</html>